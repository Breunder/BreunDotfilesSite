<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geheime Pagina</title>
    <link rel="stylesheet" href="style.css">
    <script src="404-checker.js"></script>
</head>
<body>
    <nav class="breadcrumb">
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="wiki.html">Wiki</a></li>
            <li><a href="mijndotfiles.html">Mijn dotfiles</a></li>
            <li class="current">Secret</li>
        </ul>
    </nav>
    <button class="dark-mode-toggle">ðŸŒ™</button>

    <header>
        <h1>Geheime Pagina</h1>
    </header>

    <main>
        <section id="passwordSection">
            <div class="content">
                <p>Deze pagina is beveiligd. Voer het wachtwoord in om toegang te krijgen. Misschien moet je een <code>password</code> vinden.</p>
                <div class="search-container">
                    <input type="password" id="passwordInput" placeholder="Wachtwoord">
                    <button class="button" onclick="checkPassword()">Toegang</button>
                </div>
            </div>
        </section>

        <section id="secretContent" class="hidden">
            <h2>Welkom bij de geheime pagina!</h2>
            <div class="content">
                <p>Beschikbare spellen:</p>
                <select id="gameSelect" class="menu-button" onchange="window.location.href = this.value">
                    <option value="" disabled selected>Kies een spel</option>
                    <option value="bookiebicker.html">Cookie Clicker</option>
                    <option value="betris.html">Tetris</option>
                    <option value="rong.html">Pong</option>
                </select>
                <div id="gameContainer"></div>
                <p>Bedankt voor het bezoeken van deze geheime pagina!</p>
                <a href="mijndotfiles.html" class="button">Terug naar de hoofdpagina</a>
            </div>
        </section>
    </main>

    <script>
        // Wachtwoord beveiliging
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            const correctPassword = localStorage.getItem('randomPassword');
            
            if (password === correctPassword) {
                localStorage.setItem('secretAccess', 'true');
                showSecretContent();
            } else {
                alert("Onjuist wachtwoord. Probeer het opnieuw.");
            }
        }

        function showSecretContent() {
            document.getElementById('passwordSection').classList.add('hidden');
            document.getElementById('secretContent').classList.remove('hidden');
        }

        // Konami Code implementatie
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;

        document.addEventListener('keydown', function(e) {
            // Controleer of de huidige toets overeenkomt met de verwachte toets in de Konami-code
            const key = e.key;
            const requiredKey = konamiCode[konamiIndex];
            
            if (key === requiredKey) {
                konamiIndex++;
                
                // Als de volledige code is ingevoerd, toon de geheime inhoud
                if (konamiIndex === konamiCode.length) {
                    localStorage.setItem('secretAccess', 'true');
                    showSecretContent();
                    konamiIndex = 0; // Reset de index
                }
            } else {
                konamiIndex = 0; // Reset bij een fout
            }
        });

        // Controleer localStorage en URL parameters voor toegang
        document.addEventListener('DOMContentLoaded', function() {
            if (localStorage.getItem('secretAccess') === 'true') {
                showSecretContent();
            } else {
                const urlParams = new URLSearchParams(window.location.search);
                if (urlParams.has('access') && urlParams.get('access') === 'secret') {
                    localStorage.setItem('secretAccess', 'true');
                    showSecretContent();
                }
            }
        });
    </script>
    <script src="script.js"></script>
</body>
</html>
